from torch import topk
from json import load
from warnings import filterwarnings
from sentence_transformers import SentenceTransformer
import pandas as pd

# This file is used to generate embeddings for job descriptions and compare them to a student's description.

# Reads data from JSON file.
def readData() -> list[str]:
    with open("../../data_acquisition/data/all_jobs_data.json", "r", encoding="utf-8") as file:
        allData = load(file)
        data = []
        for i in range(len(allData[:])): # Sorta hacky, but it works
            data.append(allData[i]["description"])
        file.close()
    return data

# Embedding Storage Helpers
def storeEmbeddings(tensors: list[list[float]], pathToFile: str = "./embeddings.csv") -> None:
    with open(pathToFile, "a", encoding="utf-8") as file:
        for tensor in tensors:
            file.write(",".join([str(x) for x in tensor.tolist()]) + "\n")
        file.close()

def clearEmbeddings(pathToFile: str = "./embeddings.csv") -> None:
    with open(pathToFile, "w", encoding="utf-8") as file:
        file.write("")
        file.close()

def loadEmbeddings(pathToFile: str = "./embeddings.csv") -> list[list[float]]:
    with open(pathToFile, "r", encoding="utf-8") as file:
        embeddings = []
        for line in file:
            embeddings.append([float(x) for x in line.split(",")])
        file.close()
    return embeddings

# Generate Embeddings, takes about 2 minutes to run. Only needs to be run once per DB update.
def generateEmbeddings(compareDescription: list[str]) -> None: # WARNING: This fucntion will delete the original contents of the file!
    filePath = "./data/jobDescriptionEmbeddings.csv"
    descriptions = readData()
    model = SentenceTransformer('sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2')

    print("Encoding job descriptions...")
    description_embedding = model.encode(descriptions, convert_to_tensor=True, show_progress_bar=True)
    print("Clearing embeddings...")
    clearEmbeddings(pathToFile=filePath)
    print("Storing embeddings...")
    storeEmbeddings(description_embedding, pathToFile=filePath)

'''
def compareStudentDescription(compareDescription: list[str], printTopScores:bool=False, numOutputScores:int=5) -> list[float, int]:
    model = SentenceTransformer('sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2')
    filePath = "./data/jobDescriptionEmbeddings.csv"

    print("Loading degree embeddings...")
    compareDescription_embedding = loadEmbeddings(pathToFile="./data/degreeDescriptionEmbeddings.csv")
    #print("Encoding student description...")
    #compareDescription_embedding = model.encode(compareDescription, convert_to_tensor=True, show_progress_bar=True)
    print("Loading job embeddings...")
    description_embedding = loadEmbeddings(pathToFile=filePath)
    top_k = min(numOutputScores, len(description_embedding))

    # Compute cosine-similarities. I know this isn't good for context, but it works pretty well..
    similarity_scores = model.similarity(compareDescription_embedding, description_embedding)[0]
    scores, indicies = topk(similarity_scores, k=top_k)

    print(f"Top {numOutputScores} mo st similar sentences in database:")
    outputScores = zip(scores, indicies)
    
    if printTopScores:
        for score, index in outputScores:
            print(f"{index}: {readData()[index][:50]}... | Score: {score}")
    return outputScores
'''

def matchJobsToDegree(jobDataFrame:pd.DataFrame, printOutput:bool=False, numOutputScores:int=5, degreeChoice:int=-1) -> pd.DataFrame[int, float, str, float]:
    jobs = jobDataFrame
    model = SentenceTransformer('sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2')
    numOutputs = min(len(jobDataFrame["embeddings"]), numOutputScores)

    # Was easier and faster to hardcode this than read from the JSON file.
    degrees = [
                "1.\tBachelorstudium Informatik",
                "2.\tBachelorstudium Data Science",
                "3.\tBachelorstudium Systemtechnik",
                "4.\tBachelorstudium Applied Digital Life Sciences",
                "5.\tBachelor in Wirtschaftsinformatik",
                "6.\tMaster in Wirtschaftsinformatik",
                "7.\tComputer Science",
                "8.\tData Science",
                "9.\tInformation and Cyber Security",
                "10.\tMechatronics and Automation",
                "11.\tPhotonics and Laser Engineering"
    ]

    # If a preselected degree is not provided, prompt the user to choose one.
    while degreeChoice < 0:
        inStr = input("Choose a degree from the following:\n" + "\n".join(degrees) + "\n")
        if inStr.isnumeric():
            degreeChoice = (int(inStr) % 11) - 1
        else:
            print("Please enter a number.")
    

    if printOutput:
        print("Retrieving job embeddings...")
    jobEmbeddings = jobs["embeddings"].tolist()

    if printOutput:
        print("Loading degree embeddings...")
    degreeEmbeddings = loadEmbeddings(pathToFile="./data/degreeDescriptionEmbeddings.csv")

    if printOutput:
        print(f"Top {numOutputScores} most similar sentences in database:")

    simScores = model.similarity(degreeEmbeddings[degreeChoice], jobEmbeddings)[0]
    scores, indicies = topk(simScores, k=numOutputs)
    
    jobs.insert(len(jobs.columns), "similarityScore", scores)
    return jobs
    




if __name__ == "__main__":
    filterwarnings("ignore")
    funny = pd.DataFrame()
    funny["embeddings"] = [
        [0.020985465496778488,-0.15748989582061768,-0.204065203666687,-0.01961861364543438,-0.14497219026088715,-0.1644228994846344,0.039786193519830704,0.005663054995238781,0.012999342754483223,-0.08926540613174438,-0.23222890496253967,0.002546286676079035,-0.0965305045247078,-0.07742757350206375,0.20061776041984558,-0.02440129779279232,-0.021057039499282837,-0.1303088217973709,0.013318418525159359,0.12991833686828613,-0.2985607385635376,-0.28479886054992676,-0.13510066270828247,-0.01483129896223545,-0.09550412744283676,0.09571748971939087,0.14617183804512024,0.11362025886774063,0.04916420951485634,-0.175870880484581,0.08887605369091034,-0.021313078701496124,0.21658289432525635,0.04456499591469765,0.0621725358068943,0.31651416420936584,-0.21912921965122223,0.021602483466267586,-0.17461369931697845,0.11533302068710327,-0.08893434703350067,-0.02357000671327114,0.13421529531478882,0.005190612748265266,0.006330428645014763,-0.11158587783575058,-0.09644812345504761,0.12851367890834808,-0.1396539956331253,-0.1438821256160736,-0.2741151452064514,-0.23777338862419128,0.11821949481964111,0.04446488246321678,0.013564824126660824,0.31234878301620483,0.20799091458320618,-0.020231178030371666,-0.07149655371904373,-0.14946115016937256,0.2573520243167877,-0.008758027106523514,-0.1929578334093094,-0.010892491787672043,0.0021474240347743034,0.09983848035335541,0.10076922178268433,0.21521537005901337,-0.04749598354101181,-0.1424151062965393,0.06956417858600616,-0.31024450063705444,-0.053268708288669586,0.177702397108078,0.10705723613500595,0.028993818908929825,0.1823110729455948,-0.01088590919971466,0.17075563967227936,0.09477347880601883,0.2062501460313797,0.059711381793022156,-0.10769982635974884,-0.03907904773950577,-0.10925206542015076,0.10216671973466873,0.11945260316133499,0.13316242396831512,0.35018303990364075,0.16321034729480743,0.01688855141401291,0.3034939467906952,0.06430117785930634,-0.2857702672481537,0.06233973056077957,0.19096580147743225,0.12751707434654236,-0.028189167380332947,-0.07630942016839981,0.39476948976516724,-0.01509775035083294,0.04060067981481552,0.002907554153352976,-0.18822762370109558,-0.13957622647285461,0.30776816606521606,0.13599124550819397,-0.07123623788356781,0.10532718151807785,-0.1850980967283249,-0.09936746954917908,0.21520204842090607,-0.2639869451522827,-0.3073347508907318,-0.044570017606019974,0.07845556735992432,-0.2748209536075592,0.09947793185710907,0.1632179319858551,0.07940682023763657,0.04251816123723984,-0.013304974883794785,0.1264694631099701,-0.03451062738895416,0.32073286175727844,0.021028488874435425,-0.3130652606487274,-0.1281125545501709,-0.1521686613559723,-0.1377411186695099,0.01002630777657032,0.14738942682743073,0.012116603553295135,0.046537622809410095,-0.004950770176947117,0.048028867691755295,-0.060672588646411896,-0.11342372000217438,-0.21824058890342712,0.10567036271095276,0.09327220916748047,0.024080369621515274,0.20134566724300385,0.003804675303399563,-0.0382523387670517,0.052509576082229614,-0.2368544489145279,-0.0641469731926918,-0.0468049980700016,-0.07295440137386322,0.047235067933797836,0.024584971368312836,0.33459267020225525,0.037010520696640015,0.04255775734782219,0.008111333474516869,0.14795291423797607,-0.030184945091605186,0.08647710829973221,0.05147474631667137,-0.15469607710838318,0.01747193932533264,-0.01667509786784649,0.034145452082157135,-0.0745273306965828,-0.1983768790960312,-0.017128050327301025,-0.0859796330332756,0.03053247556090355,0.0401533804833889,0.09444168955087662,-0.12189766764640808,0.059635043144226074,-0.24330872297286987,0.05584021285176277,-0.20910951495170593,0.05294091999530792,0.01218613050878048,-0.10576070845127106,-0.1249123066663742,0.21934109926223755,0.1297101229429245,0.22780254483222961,-0.02613585628569126,-0.012682313099503517,0.01407034881412983,-0.10077869147062302,-0.0003686537966132164,-0.08947094529867172,-0.10070133209228516,-0.20506379008293152,0.05167797952890396,0.20093274116516113,0.06616323441267014,-0.004333721473813057,-0.08590444922447205,0.20789705216884613,-0.12090220302343369,-0.22706232964992523,0.046005938202142715,-0.14395646750926971,0.11453744769096375,-0.3616575598716736,-0.10535423457622528,-0.07247651368379593,0.2003459334373474,0.1866074800491333,-0.010212494060397148,0.032952651381492615,0.013491885736584663,0.0278768390417099,0.2628939747810364,-0.037068430334329605,0.13313817977905273,0.11063522845506668,-0.1614762246608734,-0.08307193219661713,0.31637871265411377,-0.26087161898612976,0.07256533950567245,-0.09661579877138138,0.36324068903923035,-0.08308787643909454,-0.24932469427585602,-0.3597658574581146,-0.09211423993110657,-0.058611910790205,-0.19236144423484802,-0.10567530989646912,0.02355138212442398,-0.22041043639183044,-0.20051918923854828,0.11047179251909256,0.01664271578192711,-0.16937410831451416,-0.16585871577262878,0.21957269310951233,-0.05154493451118469,-0.267347127199173,-0.028369054198265076,0.058567941188812256,-0.19828806817531586,0.09623408317565918,0.10487411916255951,0.06501471251249313,0.40399369597435,0.22670899331569672,-0.031744975596666336,0.04482147842645645,0.12248668074607849,0.2257339358329773,-0.35649755597114563,0.1389876902103424,-0.09823988378047943,0.0365719310939312,-0.026527337729930878,-0.19511744379997253,0.16297055780887604,-0.03985496237874031,0.13580186665058136,0.0018216385506093502,-0.12278589606285095,0.15706618130207062,0.22126290202140808,0.18914836645126343,-0.0762297734618187,-0.18334640562534332,0.06183329224586487,-0.013029851019382477,0.11157695949077606,-0.16552042961120605,-0.1611013412475586,0.034825555980205536,-0.11520203202962875,0.02051544561982155,-0.10743708908557892,0.024209806695580482,-0.029970042407512665,-0.014965847134590149,0.27432334423065186,0.07014206796884537,-0.14533348381519318,0.09745330363512039,0.14495591819286346,0.0926719605922699,-0.05855565145611763,0.04750727862119675,-0.01897081546485424,0.04490518197417259,0.06634696573019028,-0.043714605271816254,-0.015377056784927845,-0.04637179151177406,-0.060705192387104034,0.03707879036664963,-0.1332261711359024,-0.10469744354486465,0.057430449873209,-0.10849657654762268,0.04245636984705925,-0.05015970394015312,-0.3095729351043701,-0.04869437217712402,-0.2186240553855896,-0.08943202346563339,0.020921561866998672,0.11551213264465332,0.08528060466051102,-0.09788297861814499,0.04057907685637474,0.10445593297481537,0.08303385227918625,0.14807246625423431,0.08372180908918381,-0.008968563750386238,-0.13992416858673096,0.11600356549024582,0.08374374359846115,0.06715031713247299,-0.14546123147010803,0.07014798372983932,-0.009486409835517406,-0.06914729624986649,0.03808286786079407,0.010842712596058846,-0.16675499081611633,-0.3445782959461212,-0.07324309647083282,0.11142079532146454,0.08455929905176163,-0.06042812392115593,0.020412664860486984,-0.055630382150411606,0.11695817857980728,0.1080506443977356,-0.06089949607849121,-0.31801915168762207,0.21034248173236847,-0.14268699288368225,-0.2273748815059662,0.49712663888931274,0.14999248087406158,-0.32695305347442627,0.13353291153907776,-0.10327178239822388,-0.1018252745270729,-0.1346256285905838,0.22204755246639252,-0.049331750720739365,0.13347147405147552,-0.22094301879405975,0.07216149568557739,-0.035080306231975555,-0.12107668817043304,0.22538521885871887,0.14707908034324646,-0.13498206436634064,0.06428894400596619,-0.004949293099343777,-0.20794853568077087,0.20988355576992035,0.24609580636024475,-9.248097194358706e-05,0.048271022737026215,-0.1331218034029007,0.11930792033672333,-0.23842984437942505,-0.019228648394346237,0.3417092561721802,0.11526207625865936,-0.05001617595553398,-0.05468524247407913,0.14320045709609985,0.049691520631313324,0.08290588110685349,0.18047355115413666,0.0930352732539177,-0.11238464713096619,0.1253550499677658,-0.12372435629367828,-0.005740221589803696,0.07935497909784317,-0.04806177318096161,0.040554631501436234],
        [0.020985465496778488,-0.15748989582061768,-0.204065203666687,-0.01961861364543438,-0.14497219026088715,-0.1644228994846344,0.039786193519830704,0.005663054995238781,0.012999342754483223,-0.08926540613174438,-0.23222890496253967,0.002546286676079035,-0.0965305045247078,-0.07742757350206375,0.20061776041984558,-0.02440129779279232,-0.021057039499282837,-0.1303088217973709,0.013318418525159359,0.12991833686828613,-0.2985607385635376,-0.28479886054992676,-0.13510066270828247,-0.01483129896223545,-0.09550412744283676,0.09571748971939087,0.14617183804512024,0.11362025886774063,0.04916420951485634,-0.175870880484581,0.08887605369091034,-0.021313078701496124,0.21658289432525635,0.04456499591469765,0.0621725358068943,0.31651416420936584,-0.21912921965122223,0.021602483466267586,-0.17461369931697845,0.11533302068710327,-0.08893434703350067,-0.02357000671327114,0.13421529531478882,0.005190612748265266,0.006330428645014763,-0.11158587783575058,-0.09644812345504761,0.12851367890834808,-0.1396539956331253,-0.1438821256160736,-0.2741151452064514,-0.23777338862419128,0.11821949481964111,0.04446488246321678,0.013564824126660824,0.31234878301620483,0.20799091458320618,-0.020231178030371666,-0.07149655371904373,-0.14946115016937256,0.2573520243167877,-0.008758027106523514,-0.1929578334093094,-0.010892491787672043,0.0021474240347743034,0.09983848035335541,0.10076922178268433,0.21521537005901337,-0.04749598354101181,-0.1424151062965393,0.06956417858600616,-0.31024450063705444,-0.053268708288669586,0.177702397108078,0.10705723613500595,0.028993818908929825,0.1823110729455948,-0.01088590919971466,0.17075563967227936,0.09477347880601883,0.2062501460313797,0.059711381793022156,-0.10769982635974884,-0.03907904773950577,-0.10925206542015076,0.10216671973466873,0.11945260316133499,0.13316242396831512,0.35018303990364075,0.16321034729480743,0.01688855141401291,0.3034939467906952,0.06430117785930634,-0.2857702672481537,0.06233973056077957,0.19096580147743225,0.12751707434654236,-0.028189167380332947,-0.07630942016839981,0.39476948976516724,-0.01509775035083294,0.04060067981481552,0.002907554153352976,-0.18822762370109558,-0.13957622647285461,0.30776816606521606,0.13599124550819397,-0.07123623788356781,0.10532718151807785,-0.1850980967283249,-0.09936746954917908,0.21520204842090607,-0.2639869451522827,-0.3073347508907318,-0.044570017606019974,0.07845556735992432,-0.2748209536075592,0.09947793185710907,0.1632179319858551,0.07940682023763657,0.04251816123723984,-0.013304974883794785,0.1264694631099701,-0.03451062738895416,0.32073286175727844,0.021028488874435425,-0.3130652606487274,-0.1281125545501709,-0.1521686613559723,-0.1377411186695099,0.01002630777657032,0.14738942682743073,0.012116603553295135,0.046537622809410095,-0.004950770176947117,0.048028867691755295,-0.060672588646411896,-0.11342372000217438,-0.21824058890342712,0.10567036271095276,0.09327220916748047,0.024080369621515274,0.20134566724300385,0.003804675303399563,-0.0382523387670517,0.052509576082229614,-0.2368544489145279,-0.0641469731926918,-0.0468049980700016,-0.07295440137386322,0.047235067933797836,0.024584971368312836,0.33459267020225525,0.037010520696640015,0.04255775734782219,0.008111333474516869,0.14795291423797607,-0.030184945091605186,0.08647710829973221,0.05147474631667137,-0.15469607710838318,0.01747193932533264,-0.01667509786784649,0.034145452082157135,-0.0745273306965828,-0.1983768790960312,-0.017128050327301025,-0.0859796330332756,0.03053247556090355,0.0401533804833889,0.09444168955087662,-0.12189766764640808,0.059635043144226074,-0.24330872297286987,0.05584021285176277,-0.20910951495170593,0.05294091999530792,0.01218613050878048,-0.10576070845127106,-0.1249123066663742,0.21934109926223755,0.1297101229429245,0.22780254483222961,-0.02613585628569126,-0.012682313099503517,0.01407034881412983,-0.10077869147062302,-0.0003686537966132164,-0.08947094529867172,-0.10070133209228516,-0.20506379008293152,0.05167797952890396,0.20093274116516113,0.06616323441267014,-0.004333721473813057,-0.08590444922447205,0.20789705216884613,-0.12090220302343369,-0.22706232964992523,0.046005938202142715,-0.14395646750926971,0.11453744769096375,-0.3616575598716736,-0.10535423457622528,-0.07247651368379593,0.2003459334373474,0.1866074800491333,-0.010212494060397148,0.032952651381492615,0.013491885736584663,0.0278768390417099,0.2628939747810364,-0.037068430334329605,0.13313817977905273,0.11063522845506668,-0.1614762246608734,-0.08307193219661713,0.31637871265411377,-0.26087161898612976,0.07256533950567245,-0.09661579877138138,0.36324068903923035,-0.08308787643909454,-0.24932469427585602,-0.3597658574581146,-0.09211423993110657,-0.058611910790205,-0.19236144423484802,-0.10567530989646912,0.02355138212442398,-0.22041043639183044,-0.20051918923854828,0.11047179251909256,0.01664271578192711,-0.16937410831451416,-0.16585871577262878,0.21957269310951233,-0.05154493451118469,-0.267347127199173,-0.028369054198265076,0.058567941188812256,-0.19828806817531586,0.09623408317565918,0.10487411916255951,0.06501471251249313,0.40399369597435,0.22670899331569672,-0.031744975596666336,0.04482147842645645,0.12248668074607849,0.2257339358329773,-0.35649755597114563,0.1389876902103424,-0.09823988378047943,0.0365719310939312,-0.026527337729930878,-0.19511744379997253,0.16297055780887604,-0.03985496237874031,0.13580186665058136,0.0018216385506093502,-0.12278589606285095,0.15706618130207062,0.22126290202140808,0.18914836645126343,-0.0762297734618187,-0.18334640562534332,0.06183329224586487,-0.013029851019382477,0.11157695949077606,-0.16552042961120605,-0.1611013412475586,0.034825555980205536,-0.11520203202962875,0.02051544561982155,-0.10743708908557892,0.024209806695580482,-0.029970042407512665,-0.014965847134590149,0.27432334423065186,0.07014206796884537,-0.14533348381519318,0.09745330363512039,0.14495591819286346,0.0926719605922699,-0.05855565145611763,0.04750727862119675,-0.01897081546485424,0.04490518197417259,0.06634696573019028,-0.043714605271816254,-0.015377056784927845,-0.04637179151177406,-0.060705192387104034,0.03707879036664963,-0.1332261711359024,-0.10469744354486465,0.057430449873209,-0.10849657654762268,0.04245636984705925,-0.05015970394015312,-0.3095729351043701,-0.04869437217712402,-0.2186240553855896,-0.08943202346563339,0.020921561866998672,0.11551213264465332,0.08528060466051102,-0.09788297861814499,0.04057907685637474,0.10445593297481537,0.08303385227918625,0.14807246625423431,0.08372180908918381,-0.008968563750386238,-0.13992416858673096,0.11600356549024582,0.08374374359846115,0.06715031713247299,-0.14546123147010803,0.07014798372983932,-0.009486409835517406,-0.06914729624986649,0.03808286786079407,0.010842712596058846,-0.16675499081611633,-0.3445782959461212,-0.07324309647083282,0.11142079532146454,0.08455929905176163,-0.06042812392115593,0.020412664860486984,-0.055630382150411606,0.11695817857980728,0.1080506443977356,-0.06089949607849121,-0.31801915168762207,0.21034248173236847,-0.14268699288368225,-0.2273748815059662,0.49712663888931274,0.14999248087406158,-0.32695305347442627,0.13353291153907776,-0.10327178239822388,-0.1018252745270729,-0.1346256285905838,0.22204755246639252,-0.049331750720739365,0.13347147405147552,-0.22094301879405975,0.07216149568557739,-0.035080306231975555,-0.12107668817043304,0.22538521885871887,0.14707908034324646,-0.13498206436634064,0.06428894400596619,-0.004949293099343777,-0.20794853568077087,0.20988355576992035,0.24609580636024475,-9.248097194358706e-05,0.048271022737026215,-0.1331218034029007,0.11930792033672333,-0.23842984437942505,-0.019228648394346237,0.3417092561721802,0.11526207625865936,-0.05001617595553398,-0.05468524247407913,0.14320045709609985,0.049691520631313324,0.08290588110685349,0.18047355115413666,0.0930352732539177,-0.11238464713096619,0.1253550499677658,-0.12372435629367828,-0.005740221589803696,0.07935497909784317,-0.04806177318096161,0.040554631501436234],
        [0.020985465496778488,-0.15748989582061768,-0.204065203666687,-0.01961861364543438,-0.14497219026088715,-0.1644228994846344,0.039786193519830704,0.005663054995238781,0.012999342754483223,-0.08926540613174438,-0.23222890496253967,0.002546286676079035,-0.0965305045247078,-0.07742757350206375,0.20061776041984558,-0.02440129779279232,-0.021057039499282837,-0.1303088217973709,0.013318418525159359,0.12991833686828613,-0.2985607385635376,-0.28479886054992676,-0.13510066270828247,-0.01483129896223545,-0.09550412744283676,0.09571748971939087,0.14617183804512024,0.11362025886774063,0.04916420951485634,-0.175870880484581,0.08887605369091034,-0.021313078701496124,0.21658289432525635,0.04456499591469765,0.0621725358068943,0.31651416420936584,-0.21912921965122223,0.021602483466267586,-0.17461369931697845,0.11533302068710327,-0.08893434703350067,-0.02357000671327114,0.13421529531478882,0.005190612748265266,0.006330428645014763,-0.11158587783575058,-0.09644812345504761,0.12851367890834808,-0.1396539956331253,-0.1438821256160736,-0.2741151452064514,-0.23777338862419128,0.11821949481964111,0.04446488246321678,0.013564824126660824,0.31234878301620483,0.20799091458320618,-0.020231178030371666,-0.07149655371904373,-0.14946115016937256,0.2573520243167877,-0.008758027106523514,-0.1929578334093094,-0.010892491787672043,0.0021474240347743034,0.09983848035335541,0.10076922178268433,0.21521537005901337,-0.04749598354101181,-0.1424151062965393,0.06956417858600616,-0.31024450063705444,-0.053268708288669586,0.177702397108078,0.10705723613500595,0.028993818908929825,0.1823110729455948,-0.01088590919971466,0.17075563967227936,0.09477347880601883,0.2062501460313797,0.059711381793022156,-0.10769982635974884,-0.03907904773950577,-0.10925206542015076,0.10216671973466873,0.11945260316133499,0.13316242396831512,0.35018303990364075,0.16321034729480743,0.01688855141401291,0.3034939467906952,0.06430117785930634,-0.2857702672481537,0.06233973056077957,0.19096580147743225,0.12751707434654236,-0.028189167380332947,-0.07630942016839981,0.39476948976516724,-0.01509775035083294,0.04060067981481552,0.002907554153352976,-0.18822762370109558,-0.13957622647285461,0.30776816606521606,0.13599124550819397,-0.07123623788356781,0.10532718151807785,-0.1850980967283249,-0.09936746954917908,0.21520204842090607,-0.2639869451522827,-0.3073347508907318,-0.044570017606019974,0.07845556735992432,-0.2748209536075592,0.09947793185710907,0.1632179319858551,0.07940682023763657,0.04251816123723984,-0.013304974883794785,0.1264694631099701,-0.03451062738895416,0.32073286175727844,0.021028488874435425,-0.3130652606487274,-0.1281125545501709,-0.1521686613559723,-0.1377411186695099,0.01002630777657032,0.14738942682743073,0.012116603553295135,0.046537622809410095,-0.004950770176947117,0.048028867691755295,-0.060672588646411896,-0.11342372000217438,-0.21824058890342712,0.10567036271095276,0.09327220916748047,0.024080369621515274,0.20134566724300385,0.003804675303399563,-0.0382523387670517,0.052509576082229614,-0.2368544489145279,-0.0641469731926918,-0.0468049980700016,-0.07295440137386322,0.047235067933797836,0.024584971368312836,0.33459267020225525,0.037010520696640015,0.04255775734782219,0.008111333474516869,0.14795291423797607,-0.030184945091605186,0.08647710829973221,0.05147474631667137,-0.15469607710838318,0.01747193932533264,-0.01667509786784649,0.034145452082157135,-0.0745273306965828,-0.1983768790960312,-0.017128050327301025,-0.0859796330332756,0.03053247556090355,0.0401533804833889,0.09444168955087662,-0.12189766764640808,0.059635043144226074,-0.24330872297286987,0.05584021285176277,-0.20910951495170593,0.05294091999530792,0.01218613050878048,-0.10576070845127106,-0.1249123066663742,0.21934109926223755,0.1297101229429245,0.22780254483222961,-0.02613585628569126,-0.012682313099503517,0.01407034881412983,-0.10077869147062302,-0.0003686537966132164,-0.08947094529867172,-0.10070133209228516,-0.20506379008293152,0.05167797952890396,0.20093274116516113,0.06616323441267014,-0.004333721473813057,-0.08590444922447205,0.20789705216884613,-0.12090220302343369,-0.22706232964992523,0.046005938202142715,-0.14395646750926971,0.11453744769096375,-0.3616575598716736,-0.10535423457622528,-0.07247651368379593,0.2003459334373474,0.1866074800491333,-0.010212494060397148,0.032952651381492615,0.013491885736584663,0.0278768390417099,0.2628939747810364,-0.037068430334329605,0.13313817977905273,0.11063522845506668,-0.1614762246608734,-0.08307193219661713,0.31637871265411377,-0.26087161898612976,0.07256533950567245,-0.09661579877138138,0.36324068903923035,-0.08308787643909454,-0.24932469427585602,-0.3597658574581146,-0.09211423993110657,-0.058611910790205,-0.19236144423484802,-0.10567530989646912,0.02355138212442398,-0.22041043639183044,-0.20051918923854828,0.11047179251909256,0.01664271578192711,-0.16937410831451416,-0.16585871577262878,0.21957269310951233,-0.05154493451118469,-0.267347127199173,-0.028369054198265076,0.058567941188812256,-0.19828806817531586,0.09623408317565918,0.10487411916255951,0.06501471251249313,0.40399369597435,0.22670899331569672,-0.031744975596666336,0.04482147842645645,0.12248668074607849,0.2257339358329773,-0.35649755597114563,0.1389876902103424,-0.09823988378047943,0.0365719310939312,-0.026527337729930878,-0.19511744379997253,0.16297055780887604,-0.03985496237874031,0.13580186665058136,0.0018216385506093502,-0.12278589606285095,0.15706618130207062,0.22126290202140808,0.18914836645126343,-0.0762297734618187,-0.18334640562534332,0.06183329224586487,-0.013029851019382477,0.11157695949077606,-0.16552042961120605,-0.1611013412475586,0.034825555980205536,-0.11520203202962875,0.02051544561982155,-0.10743708908557892,0.024209806695580482,-0.029970042407512665,-0.014965847134590149,0.27432334423065186,0.07014206796884537,-0.14533348381519318,0.09745330363512039,0.14495591819286346,0.0926719605922699,-0.05855565145611763,0.04750727862119675,-0.01897081546485424,0.04490518197417259,0.06634696573019028,-0.043714605271816254,-0.015377056784927845,-0.04637179151177406,-0.060705192387104034,0.03707879036664963,-0.1332261711359024,-0.10469744354486465,0.057430449873209,-0.10849657654762268,0.04245636984705925,-0.05015970394015312,-0.3095729351043701,-0.04869437217712402,-0.2186240553855896,-0.08943202346563339,0.020921561866998672,0.11551213264465332,0.08528060466051102,-0.09788297861814499,0.04057907685637474,0.10445593297481537,0.08303385227918625,0.14807246625423431,0.08372180908918381,-0.008968563750386238,-0.13992416858673096,0.11600356549024582,0.08374374359846115,0.06715031713247299,-0.14546123147010803,0.07014798372983932,-0.009486409835517406,-0.06914729624986649,0.03808286786079407,0.010842712596058846,-0.16675499081611633,-0.3445782959461212,-0.07324309647083282,0.11142079532146454,0.08455929905176163,-0.06042812392115593,0.020412664860486984,-0.055630382150411606,0.11695817857980728,0.1080506443977356,-0.06089949607849121,-0.31801915168762207,0.21034248173236847,-0.14268699288368225,-0.2273748815059662,0.49712663888931274,0.14999248087406158,-0.32695305347442627,0.13353291153907776,-0.10327178239822388,-0.1018252745270729,-0.1346256285905838,0.22204755246639252,-0.049331750720739365,0.13347147405147552,-0.22094301879405975,0.07216149568557739,-0.035080306231975555,-0.12107668817043304,0.22538521885871887,0.14707908034324646,-0.13498206436634064,0.06428894400596619,-0.004949293099343777,-0.20794853568077087,0.20988355576992035,0.24609580636024475,-9.248097194358706e-05,0.048271022737026215,-0.1331218034029007,0.11930792033672333,-0.23842984437942505,-0.019228648394346237,0.3417092561721802,0.11526207625865936,-0.05001617595553398,-0.05468524247407913,0.14320045709609985,0.049691520631313324,0.08290588110685349,0.18047355115413666,0.0930352732539177,-0.11238464713096619,0.1253550499677658,-0.12372435629367828,-0.005740221589803696,0.07935497909784317,-0.04806177318096161,0.040554631501436234],
        [0.020985465496778488,-0.15748989582061768,-0.204065203666687,-0.01961861364543438,-0.14497219026088715,-0.1644228994846344,0.039786193519830704,0.005663054995238781,0.012999342754483223,-0.08926540613174438,-0.23222890496253967,0.002546286676079035,-0.0965305045247078,-0.07742757350206375,0.20061776041984558,-0.02440129779279232,-0.021057039499282837,-0.1303088217973709,0.013318418525159359,0.12991833686828613,-0.2985607385635376,-0.28479886054992676,-0.13510066270828247,-0.01483129896223545,-0.09550412744283676,0.09571748971939087,0.14617183804512024,0.11362025886774063,0.04916420951485634,-0.175870880484581,0.08887605369091034,-0.021313078701496124,0.21658289432525635,0.04456499591469765,0.0621725358068943,0.31651416420936584,-0.21912921965122223,0.021602483466267586,-0.17461369931697845,0.11533302068710327,-0.08893434703350067,-0.02357000671327114,0.13421529531478882,0.005190612748265266,0.006330428645014763,-0.11158587783575058,-0.09644812345504761,0.12851367890834808,-0.1396539956331253,-0.1438821256160736,-0.2741151452064514,-0.23777338862419128,0.11821949481964111,0.04446488246321678,0.013564824126660824,0.31234878301620483,0.20799091458320618,-0.020231178030371666,-0.07149655371904373,-0.14946115016937256,0.2573520243167877,-0.008758027106523514,-0.1929578334093094,-0.010892491787672043,0.0021474240347743034,0.09983848035335541,0.10076922178268433,0.21521537005901337,-0.04749598354101181,-0.1424151062965393,0.06956417858600616,-0.31024450063705444,-0.053268708288669586,0.177702397108078,0.10705723613500595,0.028993818908929825,0.1823110729455948,-0.01088590919971466,0.17075563967227936,0.09477347880601883,0.2062501460313797,0.059711381793022156,-0.10769982635974884,-0.03907904773950577,-0.10925206542015076,0.10216671973466873,0.11945260316133499,0.13316242396831512,0.35018303990364075,0.16321034729480743,0.01688855141401291,0.3034939467906952,0.06430117785930634,-0.2857702672481537,0.06233973056077957,0.19096580147743225,0.12751707434654236,-0.028189167380332947,-0.07630942016839981,0.39476948976516724,-0.01509775035083294,0.04060067981481552,0.002907554153352976,-0.18822762370109558,-0.13957622647285461,0.30776816606521606,0.13599124550819397,-0.07123623788356781,0.10532718151807785,-0.1850980967283249,-0.09936746954917908,0.21520204842090607,-0.2639869451522827,-0.3073347508907318,-0.044570017606019974,0.07845556735992432,-0.2748209536075592,0.09947793185710907,0.1632179319858551,0.07940682023763657,0.04251816123723984,-0.013304974883794785,0.1264694631099701,-0.03451062738895416,0.32073286175727844,0.021028488874435425,-0.3130652606487274,-0.1281125545501709,-0.1521686613559723,-0.1377411186695099,0.01002630777657032,0.14738942682743073,0.012116603553295135,0.046537622809410095,-0.004950770176947117,0.048028867691755295,-0.060672588646411896,-0.11342372000217438,-0.21824058890342712,0.10567036271095276,0.09327220916748047,0.024080369621515274,0.20134566724300385,0.003804675303399563,-0.0382523387670517,0.052509576082229614,-0.2368544489145279,-0.0641469731926918,-0.0468049980700016,-0.07295440137386322,0.047235067933797836,0.024584971368312836,0.33459267020225525,0.037010520696640015,0.04255775734782219,0.008111333474516869,0.14795291423797607,-0.030184945091605186,0.08647710829973221,0.05147474631667137,-0.15469607710838318,0.01747193932533264,-0.01667509786784649,0.034145452082157135,-0.0745273306965828,-0.1983768790960312,-0.017128050327301025,-0.0859796330332756,0.03053247556090355,0.0401533804833889,0.09444168955087662,-0.12189766764640808,0.059635043144226074,-0.24330872297286987,0.05584021285176277,-0.20910951495170593,0.05294091999530792,0.01218613050878048,-0.10576070845127106,-0.1249123066663742,0.21934109926223755,0.1297101229429245,0.22780254483222961,-0.02613585628569126,-0.012682313099503517,0.01407034881412983,-0.10077869147062302,-0.0003686537966132164,-0.08947094529867172,-0.10070133209228516,-0.20506379008293152,0.05167797952890396,0.20093274116516113,0.06616323441267014,-0.004333721473813057,-0.08590444922447205,0.20789705216884613,-0.12090220302343369,-0.22706232964992523,0.046005938202142715,-0.14395646750926971,0.11453744769096375,-0.3616575598716736,-0.10535423457622528,-0.07247651368379593,0.2003459334373474,0.1866074800491333,-0.010212494060397148,0.032952651381492615,0.013491885736584663,0.0278768390417099,0.2628939747810364,-0.037068430334329605,0.13313817977905273,0.11063522845506668,-0.1614762246608734,-0.08307193219661713,0.31637871265411377,-0.26087161898612976,0.07256533950567245,-0.09661579877138138,0.36324068903923035,-0.08308787643909454,-0.24932469427585602,-0.3597658574581146,-0.09211423993110657,-0.058611910790205,-0.19236144423484802,-0.10567530989646912,0.02355138212442398,-0.22041043639183044,-0.20051918923854828,0.11047179251909256,0.01664271578192711,-0.16937410831451416,-0.16585871577262878,0.21957269310951233,-0.05154493451118469,-0.267347127199173,-0.028369054198265076,0.058567941188812256,-0.19828806817531586,0.09623408317565918,0.10487411916255951,0.06501471251249313,0.40399369597435,0.22670899331569672,-0.031744975596666336,0.04482147842645645,0.12248668074607849,0.2257339358329773,-0.35649755597114563,0.1389876902103424,-0.09823988378047943,0.0365719310939312,-0.026527337729930878,-0.19511744379997253,0.16297055780887604,-0.03985496237874031,0.13580186665058136,0.0018216385506093502,-0.12278589606285095,0.15706618130207062,0.22126290202140808,0.18914836645126343,-0.0762297734618187,-0.18334640562534332,0.06183329224586487,-0.013029851019382477,0.11157695949077606,-0.16552042961120605,-0.1611013412475586,0.034825555980205536,-0.11520203202962875,0.02051544561982155,-0.10743708908557892,0.024209806695580482,-0.029970042407512665,-0.014965847134590149,0.27432334423065186,0.07014206796884537,-0.14533348381519318,0.09745330363512039,0.14495591819286346,0.0926719605922699,-0.05855565145611763,0.04750727862119675,-0.01897081546485424,0.04490518197417259,0.06634696573019028,-0.043714605271816254,-0.015377056784927845,-0.04637179151177406,-0.060705192387104034,0.03707879036664963,-0.1332261711359024,-0.10469744354486465,0.057430449873209,-0.10849657654762268,0.04245636984705925,-0.05015970394015312,-0.3095729351043701,-0.04869437217712402,-0.2186240553855896,-0.08943202346563339,0.020921561866998672,0.11551213264465332,0.08528060466051102,-0.09788297861814499,0.04057907685637474,0.10445593297481537,0.08303385227918625,0.14807246625423431,0.08372180908918381,-0.008968563750386238,-0.13992416858673096,0.11600356549024582,0.08374374359846115,0.06715031713247299,-0.14546123147010803,0.07014798372983932,-0.009486409835517406,-0.06914729624986649,0.03808286786079407,0.010842712596058846,-0.16675499081611633,-0.3445782959461212,-0.07324309647083282,0.11142079532146454,0.08455929905176163,-0.06042812392115593,0.020412664860486984,-0.055630382150411606,0.11695817857980728,0.1080506443977356,-0.06089949607849121,-0.31801915168762207,0.21034248173236847,-0.14268699288368225,-0.2273748815059662,0.49712663888931274,0.14999248087406158,-0.32695305347442627,0.13353291153907776,-0.10327178239822388,-0.1018252745270729,-0.1346256285905838,0.22204755246639252,-0.049331750720739365,0.13347147405147552,-0.22094301879405975,0.07216149568557739,-0.035080306231975555,-0.12107668817043304,0.22538521885871887,0.14707908034324646,-0.13498206436634064,0.06428894400596619,-0.004949293099343777,-0.20794853568077087,0.20988355576992035,0.24609580636024475,-9.248097194358706e-05,0.048271022737026215,-0.1331218034029007,0.11930792033672333,-0.23842984437942505,-0.019228648394346237,0.3417092561721802,0.11526207625865936,-0.05001617595553398,-0.05468524247407913,0.14320045709609985,0.049691520631313324,0.08290588110685349,0.18047355115413666,0.0930352732539177,-0.11238464713096619,0.1253550499677658,-0.12372435629367828,-0.005740221589803696,0.07935497909784317,-0.04806177318096161,0.040554631501436234]]

    print(matchJobsToDegree(funny, printOutput=True, degreeChoice=5, numOutputScores=5))
    #compareStudentDescription(["Batchelor's Degree, 80% workload, and Java are my best skills."], printTopScores=True, numOutputScores=100)
    #readDegree("Bachelorstudium Data Science")


